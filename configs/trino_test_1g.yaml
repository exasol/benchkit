title: "Trino Performance Test on TPC-H SF1"
author: "Benchmark Team"

# Execution configuration
execution:
  parallel: false          # Run sequentially for testing

env:
  mode: "aws"
  region: "eu-west-1"
  allow_external_database_access: true
  instances:
    trino:
      instance_type: "r5d.4xlarge"  # 16 vCPUs, 128GB RAM, 2x300GB NVMe local storage
      disk:
        type: "local"
      label: "ok-bench-trino"
  os_image: "ubuntu-22.04"
  ssh_key_name: "ok-work3"
  ssh_private_key_path: "~/.ssh/ok-work3.pem"

systems:
  - name: "trino"
    kind: "trino"
    version: "447"                 # Trino 447 (compatible with Java 22)
    setup:
      method: "native"             # Native installation (Docker not supported)
      use_additional_disk: true    # Auto-detect and use additional NVMe disk
      host: "$TRINO_PUBLIC_IP"     # Will be resolved from infrastructure
      port: 8080                   # Trino HTTP port
      username: "admin"
      catalog: "tpch"              # Use built-in TPC-H connector
      schema: "sf1"                # Scale factor 1 (1GB)
      extra:
        query_max_memory: "50GB"
        query_max_memory_per_node: "40GB"

workload:
  name: "tpch"
  scale_factor: 1                # 1GB dataset for testing
  runs_per_query: 3              # Quick test runs
  warmup_runs: 1
  data_format: "csv"
  generator: "dbgen"

report:
  show_boxplots: true
  show_latency_cdf: true
  show_bar_chart: true
